<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>JBRL: enveffect.EnvEffect Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><b>enveffect</b>.<a class="el" href="classenveffect_1_1_env_effect.html">EnvEffect</a>
  </div>
</div>
<div class="contents">
<h1>enveffect.EnvEffect Class Reference</h1><!-- doxytag: class="enveffect::EnvEffect" -->Environmental effects are localized changes in physics or display.  
<a href="#_details">More...</a>
<p>
<div class="dynheader">
Inheritance diagram for enveffect.EnvEffect:</div>
<div class="dynsection">

<p><center><img src="classenveffect_1_1_env_effect.png" usemap="#enveffect.EnvEffect_map" border="0" alt=""></center>
<map name="enveffect.EnvEffect_map">
<area href="classdata_1_1mapgen_1_1environments_1_1water_1_1_water.html" alt="data.mapgen.environments.water.Water" shape="rect" coords="0,56,235,80">
</map>
</div>

<p>
<a href="classenveffect_1_1_env_effect-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classenveffect_1_1_env_effect.html#3b5e850dbc88a6a09ede1eb801f01012">__init__</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Instantiate a base environmental effect.  <a href="#3b5e850dbc88a6a09ede1eb801f01012"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classenveffect_1_1_env_effect.html#f94c5fba191ba5bd24322ded93924773">addSpace</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a single grid location to our set of spaces, and add it to the map.  <a href="#f94c5fba191ba5bd24322ded93924773"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classenveffect_1_1_env_effect.html#63e79f1e565f7bf0ef033f476b1873d8">createRegion</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Determine which spaces are part of the environment, starting from the provided sector of the map.  <a href="#63e79f1e565f7bf0ef033f476b1873d8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classenveffect_1_1_env_effect.html#8ad1260ec3f4207f8c03a38c9137a112">draw</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Draw a single space in the grid.  <a href="#8ad1260ec3f4207f8c03a38c9137a112"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classenveffect_1_1_env_effect.html#e4e90b8cb2eb7756963c2a7e8e5137c3">update</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handle general updates.  <a href="#e4e90b8cb2eb7756963c2a7e8e5137c3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classenveffect_1_1_env_effect.html#e41db19b86d5fcb661b5c91488d04ab3">handleObject</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The Map instance will call this function to handle objects that are intersecting with environmental effects.  <a href="#e41db19b86d5fcb661b5c91488d04ab3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classenveffect_1_1_env_effect.html#d4cec8ba248cbf91344f3e5a94528932">enter</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called when an object enters the environment's area of effect.  <a href="#d4cec8ba248cbf91344f3e5a94528932"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classenveffect_1_1_env_effect.html#d743ee3586dcac352b66ce69364f95d1">traverse</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called when an object is already in the environment's area of effect.  <a href="#d743ee3586dcac352b66ce69364f95d1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classenveffect_1_1_env_effect.html#990333ddacad44adf0a3776863a1eda2">exit</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called when an object exits the environment's area of effect.  <a href="#990333ddacad44adf0a3776863a1eda2"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="cddb2dffafc74d9e6120f2786805a7b6"></a><!-- doxytag: member="enveffect::EnvEffect::sprite" ref="cddb2dffafc74d9e6120f2786805a7b6" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>sprite</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classenveffect_1_1_env_effect.html#ac3a3a182c66ed257009f75921d61ba7">spaces</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">All spaces that have the effect.  <a href="#ac3a3a182c66ed257009f75921d61ba7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classenveffect_1_1_env_effect.html#062c46c1cc8bed756225fae73f4c592f">name</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Name of the effect, which is the same as the module name for the effect's code (and not necessarily the same as the class in that module!).  <a href="#062c46c1cc8bed756225fae73f4c592f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classenveffect_1_1_env_effect.html#fa933f7d6457e84c95cc83d713e730ee">residentObjects</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dict of game objects currently in the effect.  <a href="#fa933f7d6457e84c95cc83d713e730ee"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classenveffect_1_1_env_effect.html#c7a9f72f39bcf49b92fb553f488d108c">handledObjects</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dict of game objects that we handled this frame.  <a href="#c7a9f72f39bcf49b92fb553f488d108c"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Environmental effects are localized changes in physics or display. 
<p>
For example, areas that are underwater, having falling rain, wind, etc. Specific environmental effects are subclasses of the base class and should implement the following functions:<ul>
<li>createRegion: Determines which parts of the map should have this effect running.</li><li>enter, traverse, and exit: Are triggered when any game object enters, moves through, or exits the area of the effect.</li><li>draw: Draw a single tile's worth of the effect. You can choose not to override this function, in which case a default behavior will be provided. </li></ul>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="3b5e850dbc88a6a09ede1eb801f01012"></a><!-- doxytag: member="enveffect::EnvEffect::__init__" ref="3b5e850dbc88a6a09ede1eb801f01012" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def enveffect.EnvEffect.__init__           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Instantiate a base environmental effect. 
<p>
You should never have cause to make one of these, but all subclasses need to remember to call this after setting themselves up. 
<p>Reimplemented in <a class="el" href="classdata_1_1mapgen_1_1environments_1_1water_1_1_water.html#cc939ae03dffaf27c98d17dad7b4565d">data.mapgen.environments.water.Water</a>.</p>

</div>
</div><p>
<a class="anchor" name="f94c5fba191ba5bd24322ded93924773"></a><!-- doxytag: member="enveffect::EnvEffect::addSpace" ref="f94c5fba191ba5bd24322ded93924773" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def enveffect.EnvEffect.addSpace           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>map</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a single grid location to our set of spaces, and add it to the map. 
<p>

</div>
</div><p>
<a class="anchor" name="63e79f1e565f7bf0ef033f476b1873d8"></a><!-- doxytag: member="enveffect::EnvEffect::createRegion" ref="63e79f1e565f7bf0ef033f476b1873d8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def enveffect.EnvEffect.createRegion           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>sector</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Determine which spaces are part of the environment, starting from the provided sector of the map. 
<p>

<p>Reimplemented in <a class="el" href="classdata_1_1mapgen_1_1environments_1_1water_1_1_water.html#386ffbd5d9020fd02255cdcfc2877c65">data.mapgen.environments.water.Water</a>.</p>

</div>
</div><p>
<a class="anchor" name="8ad1260ec3f4207f8c03a38c9137a112"></a><!-- doxytag: member="enveffect::EnvEffect::draw" ref="8ad1260ec3f4207f8c03a38c9137a112" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def enveffect.EnvEffect.draw           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>screen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>camera</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>progress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>scale</em> = <code>1</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Draw a single space in the grid. 
<p>
This is the default draw behavior that just does the effect's image; if you have anything else you want to draw (e.g. particle effects) you should override this function. 
</div>
</div><p>
<a class="anchor" name="d4cec8ba248cbf91344f3e5a94528932"></a><!-- doxytag: member="enveffect::EnvEffect::enter" ref="d4cec8ba248cbf91344f3e5a94528932" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def enveffect.EnvEffect.enter           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>obj</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called when an object enters the environment's area of effect. 
<p>

</div>
</div><p>
<a class="anchor" name="990333ddacad44adf0a3776863a1eda2"></a><!-- doxytag: member="enveffect::EnvEffect::exit" ref="990333ddacad44adf0a3776863a1eda2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def enveffect.EnvEffect.exit           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>obj</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called when an object exits the environment's area of effect. 
<p>

</div>
</div><p>
<a class="anchor" name="e41db19b86d5fcb661b5c91488d04ab3"></a><!-- doxytag: member="enveffect::EnvEffect::handleObject" ref="e41db19b86d5fcb661b5c91488d04ab3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def enveffect.EnvEffect.handleObject           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>obj</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The Map instance will call this function to handle objects that are intersecting with environmental effects. 
<p>
We then call <a class="el" href="classenveffect_1_1_env_effect.html#d4cec8ba248cbf91344f3e5a94528932" title="Called when an object enters the environment&#39;s area of effect.">enter()</a>, <a class="el" href="classenveffect_1_1_env_effect.html#990333ddacad44adf0a3776863a1eda2" title="Called when an object exits the environment&#39;s area of effect.">exit()</a>, or <a class="el" href="classenveffect_1_1_env_effect.html#d743ee3586dcac352b66ce69364f95d1" title="Called when an object is already in the environment&#39;s area of effect.">traverse()</a> as appropriate from here. 
</div>
</div><p>
<a class="anchor" name="d743ee3586dcac352b66ce69364f95d1"></a><!-- doxytag: member="enveffect::EnvEffect::traverse" ref="d743ee3586dcac352b66ce69364f95d1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def enveffect.EnvEffect.traverse           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>obj</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called when an object is already in the environment's area of effect. 
<p>

</div>
</div><p>
<a class="anchor" name="e4e90b8cb2eb7756963c2a7e8e5137c3"></a><!-- doxytag: member="enveffect::EnvEffect::update" ref="e4e90b8cb2eb7756963c2a7e8e5137c3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def enveffect.EnvEffect.update           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Handle general updates. 
<p>
Specifically, find objects that have left our region (by being in self.residentObjects but not in self.handledObjects). 
</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="c7a9f72f39bcf49b92fb553f488d108c"></a><!-- doxytag: member="enveffect::EnvEffect::handledObjects" ref="c7a9f72f39bcf49b92fb553f488d108c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classenveffect_1_1_env_effect.html#c7a9f72f39bcf49b92fb553f488d108c">enveffect.EnvEffect.handledObjects</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Dict of game objects that we handled this frame. 
<p>

</div>
</div><p>
<a class="anchor" name="062c46c1cc8bed756225fae73f4c592f"></a><!-- doxytag: member="enveffect::EnvEffect::name" ref="062c46c1cc8bed756225fae73f4c592f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classenveffect_1_1_env_effect.html#062c46c1cc8bed756225fae73f4c592f">enveffect.EnvEffect.name</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Name of the effect, which is the same as the module name for the effect's code (and not necessarily the same as the class in that module!). 
<p>

</div>
</div><p>
<a class="anchor" name="fa933f7d6457e84c95cc83d713e730ee"></a><!-- doxytag: member="enveffect::EnvEffect::residentObjects" ref="fa933f7d6457e84c95cc83d713e730ee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classenveffect_1_1_env_effect.html#fa933f7d6457e84c95cc83d713e730ee">enveffect.EnvEffect.residentObjects</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Dict of game objects currently in the effect. 
<p>

</div>
</div><p>
<a class="anchor" name="ac3a3a182c66ed257009f75921d61ba7"></a><!-- doxytag: member="enveffect::EnvEffect::spaces" ref="ac3a3a182c66ed257009f75921d61ba7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classenveffect_1_1_env_effect.html#ac3a3a182c66ed257009f75921d61ba7">enveffect.EnvEffect.spaces</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
All spaces that have the effect. 
<p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>enveffect.py</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Jul 18 20:28:21 2009 for JBRL by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
